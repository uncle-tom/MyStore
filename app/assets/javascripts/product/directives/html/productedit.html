<div class="row addproduct" ng-controller="adminCtrl">
  <div class="row">
    <form name="editproduct" class="simple_form form-horizontal" novalidate="novalidate" id="edit-product" accept-charset="UTF-8">
      
      <div class="col-md-4 col-xs-12 admin-sidebar_right_position">
        <div class="admin-sidebar_right">
          <div class="addproduct">
            <md-checkbox ng-model="product.has_popular">
              {{'ADMIN_PRODUCT_ADD_POPULAT' | translate }}
            </md-checkbox>

            <md-checkbox ng-model="product.in_stock">
              {{'ADMIN_PRODUCT_ADD_STOCK' | translate }}
            </md-checkbox>
          </div>
        </div>

        <adminphoto></adminphoto>
      </div>

      <div class="col-md-8">
        <h2>{{'ADMIN_PRODUCT_EDIT_TITLE' | translate }}</h2></br>
        <md-input-container class="md-icon-float md-block">
          <label>{{'ADMIN_PRODUCT_ADD_URL' | translate }}</label>
          <input ng-model="product.permalink" type="text">
        </md-input-container>
        <md-input-container class="md-icon-float md-block">
          <label>{{'ADMIN_PRODUCT_ADD_NAME' | translate }}</label>
          <input ng-model="product.name" type="text">
        </md-input-container>

        <md-input-container class="md-block">
          <label>{{'ADMIN_PRODUCT_ADD_PRICE' | translate }}</label>
          <input step="any" ng-model="product.price"/>
        </md-input-container>
        <md-checkbox ng-model="has_sale">
         {{'ADMIN_PRODUCT_ADD_HAS_SALE' | translate }}
        </md-checkbox>
        <div class="sale_price" ng-if="has_sale">
        <md-input-container class="md-block">
          <label>{{'ADMIN_PRODUCT_ADD_SALE' | translate }}</label>
          <input type="number" step="any" ng-model="product.sale_price"/>
        </md-input-container>
        </div>
        <div>
        <md-input-container>
          <label>{{'ADMIN_PRODUCT_ADD_SIZES' | translate }}</label>
          <md-select ng-model="product.sizes" multiple>
            <md-optgroup label="Размеры">
               <md-option ng-repeat="size in sizes" value="{{size.size}}">
                {{size.size}}
              </md-option>
            </md-optgroup>
          </md-select>
        </md-input-container>
        <br>
        <md-input-container>
          <label>{{'ADMIN_PRODUCT_ADD_COLOR' | translate }}</label>
          <md-select ng-model="product_color" multiple>
            <md-optgroup label="Цвета">
               <md-option ng-repeat="color in colors" value="{{color.color}}">
                {{color.color}}
              </md-option>
            </md-optgroup>
          </md-select>
        </md-input-container>
        </div>

        <md-input-container class="md-block">
          <label>{{'ADMIN_PRODUCT_ADD_DESCRIPTION' | translate }}</label>
          <textarea ng-model="product.description" rows="5" cols="5" ></textarea>
        </md-input-container>
        
        <div ng-controller="categoryCtrl">
        <fieldset class="demo-fieldset" >
          <legend class="demo-legend">{{'ADMIN_PRODUCT_ADD_CHOOSE_CATEGORY' | translate }}</legend>
          <div layout="row" layout-wrap flex>
            <div style="column-count: 3;">
              <div ng-repeat="category in categories">
                <md-checkbox ng-checked="exists_cat(category.id)" ng-click="toggle_cat(category.id)">
                 {{ category.name }}
                </md-checkbox>
              </div>
            </div>
          </div>
        </fieldset>
        </div>

        <md-button ng-click="productEdit()" class="md-raised md-primary">{{'ADMIN_PRODUCT_EDIT_BUTTON' | translate }}</md-button>
      </div>
    </form>
  </div>
</div>
